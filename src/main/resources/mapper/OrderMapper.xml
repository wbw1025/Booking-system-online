<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.edu.cuit.mapper.OrderMapper">
    <resultMap id="BaseResultMap" type="cn.edu.cuit.pojo.Order">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="oid" property="oid" jdbcType="INTEGER"/>
        <result column="otime" property="otime" jdbcType="VARCHAR"/>
        <result column="stime" property="stime" jdbcType="VARCHAR"/>
        <result column="sname" property="sname" jdbcType="VARCHAR"/>
        <result column="state" property="state" jdbcType="VARCHAR"/>
        <result column="dname" property="dname" jdbcType="VARCHAR"/>
        <result column="hname" property="hname" jdbcType="VARCHAR"/>
        <result column="uname" property="uname" jdbcType="VARCHAR"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        oid, otime, stime, sname, state, dname, hname, uname
    </sql>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from order
        where oid = #{oid,jdbcType=INTEGER}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from `order`
        where oid = #{oid,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="cn.edu.cuit.pojo.Order">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into order (oid, otime, stime,
        sname, state, dname,
        hname, uname)
        values (#{oid,jdbcType=INTEGER}, #{otime,jdbcType=VARCHAR}, #{stime,jdbcType=VARCHAR},
        #{sname,jdbcType=VARCHAR}, #{state,jdbcType=VARCHAR}, #{dname,jdbcType=VARCHAR},
        #{hname,jdbcType=VARCHAR}, #{uname,jdbcType=VARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="cn.edu.cuit.pojo.Order">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into order
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="oid != null">
                oid,
            </if>
            <if test="otime != null">
                otime,
            </if>
            <if test="stime != null">
                stime,
            </if>
            <if test="sname != null">
                sname,
            </if>
            <if test="state != null">
                state,
            </if>
            <if test="dname != null">
                dname,
            </if>
            <if test="hname != null">
                hname,
            </if>
            <if test="uname != null">
                uname,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="oid != null">
                #{oid,jdbcType=INTEGER},
            </if>
            <if test="otime != null">
                #{otime,jdbcType=VARCHAR},
            </if>
            <if test="stime != null">
                #{stime,jdbcType=VARCHAR},
            </if>
            <if test="sname != null">
                #{sname,jdbcType=VARCHAR},
            </if>
            <if test="state != null">
                #{state,jdbcType=VARCHAR},
            </if>
            <if test="dname != null">
                #{dname,jdbcType=VARCHAR},
            </if>
            <if test="hname != null">
                #{hname,jdbcType=VARCHAR},
            </if>
            <if test="uname != null">
                #{uname,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="cn.edu.cuit.pojo.Order">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update order
        <set>
            <if test="otime != null">
                otime = #{otime,jdbcType=VARCHAR},
            </if>
            <if test="stime != null">
                stime = #{stime,jdbcType=VARCHAR},
            </if>
            <if test="sname != null">
                sname = #{sname,jdbcType=VARCHAR},
            </if>
            <if test="state != null">
                state = #{state,jdbcType=VARCHAR},
            </if>
            <if test="dname != null">
                dname = #{dname,jdbcType=VARCHAR},
            </if>
            <if test="hname != null">
                hname = #{hname,jdbcType=VARCHAR},
            </if>
            <if test="uname != null">
                uname = #{uname,jdbcType=VARCHAR},
            </if>
        </set>
        where oid = #{oid,jdbcType=INTEGER}
    </update>

    <!--个人中心取消预约   更新操作-->
    <update id="updateOrder" parameterType="cn.edu.cuit.pojo.Order" >
    UPDATE  `order` SET state="无效" WHERE oid=#{id};
    </update>
    <update id="updateByPrimaryKey" parameterType="cn.edu.cuit.pojo.Order">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update order
        set otime = #{otime,jdbcType=VARCHAR},
        stime = #{stime,jdbcType=VARCHAR},
        sname = #{sname,jdbcType=VARCHAR},
        state = #{state,jdbcType=VARCHAR},
        dname = #{dname,jdbcType=VARCHAR},
        hname = #{hname,jdbcType=VARCHAR},
        uname = #{uname,jdbcType=VARCHAR}
        where oid = #{oid,jdbcType=INTEGER}
    </update>

    <!--插入预约信息-->
    <insert id="insertOrder" parameterType="cn.edu.cuit.pojo.Order">

    insert into `order` (otime, stime,
    sname, state, dname,
    hname, uname)
    values (#{otime},#{stime},#{sname},#{state},#{dname},#{hname},#{uname})
  </insert>
    <select id="selectOrderByUname" resultMap="BaseResultMap" parameterType="java.lang.String">
        SELECT
        <include refid="Base_Column_List"/>
        FROM `order`
        WHERE uname=#{uName}
    </select>

    <select id="selectOrder" resultMap="BaseResultMap" parameterType="java.lang.String">
        SELECT
        <include refid="Base_Column_List"/>
        FROM `order`
    </select>

</mapper>